<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous"
    ></script>
    <link rel="stylesheet" href="/static/styles.css" />
    <title>Feel at Home</title>
    <!-- <link rel="stylesheet" href="static/styles.css" /> -->
  </head>
  <body>
    <header>
      <div class="navbar">
        <div class="logo">
          <img src="" alt="MakersBnB Logo" />
        </div>
        <div class="nav-links">
          <a href="/profile">Profile</a>
          <span>|</span>
          <a href="/logged">Sign Out</a>
        </div>
      </div>
    </header>
    <main>
      <section class="intro">
        <h1>Book a Space</h1>
        <p>
          Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin ac
          bibendum lorem. Nulla facilisi. Sed vel lacus sit amet magna ultricies
          sagittis.
        </p>
        <!-- Booking Form -->
        <form action="/search" method="GET">
          <!-- Available From Date -->
          <label for="available-from">Available from:</label>
          <input
            type="date"
            id="available-from"
            name="available_from"
            required
          />

          <!-- Available To Date -->
          <label for="available-to">Available to:</label>
          <input type="date" id="available-to" name="available_to" required />

          <!-- Search Button -->
          <button type="submit">Filter</button>
        </form>
      </section>

      <!-- Listings Section -->
      <section class="listings">
        <h2>Latest Available Stays</h2>
        <br />

        <!-- Row Listings -->
        {% for space in spaces %}
        <div class="container-fluid new-listings">
          <!-- Use the picture_url if available; otherwise, fallback to placeholder image -->
          <img
            src="{{ space.picture_url or '/static/images/imgplaceholder.png' }}"
            alt="Space Image"
          />

          <div class="listing-text">
            <h5 class="card-title">{{ space.name }}</h5>
            <p>${{ space.price }} a night</p>
            <p class="card-text">{{ space.description }}</p>
          </div>

          <div class="listing-contact">
            <p>Tel: 01234 567 890</p>
            <!-- Static for now; can replace with dynamic contact if available -->
            <a
              href="/spaces/{{ space.id }}"
              class="btn"
              style="background-color: #4bb6e4"
              >Read more</a
            >
          </div>
        </div>
        {% endfor %}
      </section>
    </main>
  </body>
</html>
